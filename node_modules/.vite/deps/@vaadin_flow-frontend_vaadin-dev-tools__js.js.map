{
  "version": 3,
  "sources": ["../../../../src/main/frontend/vaadin-dev-tools.ts", "../../@vaadin/flow-frontend/copy-to-clipboard.js", "../../../../src/main/frontend/License.ts"],
  "sourcesContent": ["import { css, html, LitElement, nothing } from 'lit';\nimport { property, query, state } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport { copy } from './copy-to-clipboard.js';\nimport { licenseCheckFailed, licenseCheckNoKey, licenseCheckOk, Product, licenseInit } from './License';\n\ninterface ServerInfo {\n  vaadinVersion: string;\n  flowVersion: string;\n  javaVersion: string;\n  osVersion: string;\n  productName: string;\n}\n\ninterface Feature {\n  id: string;\n  title: string;\n  moreInfoLink: string;\n  requiresServerRestart: boolean;\n  enabled: boolean;\n}\n\ninterface Tab {\n  id: 'log' | 'info' | 'features';\n  title: string;\n  render: () => unknown;\n  activate?: () => void;\n}\n\nenum ConnectionStatus {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  UNAVAILABLE = 'unavailable',\n  ERROR = 'error'\n}\n\nexport class Connection extends Object {\n  static HEARTBEAT_INTERVAL = 180000;\n\n  status: ConnectionStatus = ConnectionStatus.UNAVAILABLE;\n  webSocket?: WebSocket;\n\n  constructor(url?: string) {\n    super();\n\n    if (url) {\n      this.webSocket = new WebSocket(url);\n      this.webSocket.onmessage = (msg) => this.handleMessage(msg);\n      this.webSocket.onerror = (err) => this.handleError(err);\n      this.webSocket.onclose = (_) => {\n        if (this.status !== ConnectionStatus.ERROR) {\n          this.setStatus(ConnectionStatus.UNAVAILABLE);\n        }\n        this.webSocket = undefined;\n      };\n    }\n\n    setInterval(() => {\n      if (this.webSocket && self.status !== ConnectionStatus.ERROR && this.status !== ConnectionStatus.UNAVAILABLE) {\n        this.webSocket.send('');\n      }\n    }, Connection.HEARTBEAT_INTERVAL);\n  }\n\n  onHandshake() {\n    // Intentionally empty\n  }\n\n  onReload() {\n    // Intentionally empty\n  }\n\n  onConnectionError(_: string) {\n    // Intentionally empty\n  }\n\n  onStatusChange(_: ConnectionStatus) {\n    // Intentionally empty\n  }\n\n  onMessage(message: any) {\n    // eslint-disable-next-line no-console\n    console.error('Unknown message received from the live reload server:', message);\n  }\n\n  handleMessage(msg: any) {\n    let json;\n    try {\n      json = JSON.parse(msg.data);\n    } catch (e: any) {\n      this.handleError(`[${e.name}: ${e.message}`);\n      return;\n    }\n    if (json.command === 'hello') {\n      this.setStatus(ConnectionStatus.ACTIVE);\n      this.onHandshake();\n    } else if (json.command === 'reload') {\n      if (this.status === ConnectionStatus.ACTIVE) {\n        this.onReload();\n      }\n    } else if (json.command === 'license-check-ok') {\n      licenseCheckOk(json.data);\n    } else if (json.command === 'license-check-failed') {\n      licenseCheckFailed(json.data);\n    } else if (json.command === 'license-check-nokey') {\n      licenseCheckNoKey(json.data);\n    } else {\n      this.onMessage(json);\n    }\n  }\n\n  handleError(msg: any) {\n    // eslint-disable-next-line no-console\n    console.error(msg);\n    this.setStatus(ConnectionStatus.ERROR);\n    if (msg instanceof Event && this.webSocket) {\n      this.onConnectionError(`Error in WebSocket connection to ${this.webSocket.url}`);\n    } else {\n      this.onConnectionError(msg);\n    }\n  }\n\n  setActive(yes: boolean) {\n    if (!yes && this.status === ConnectionStatus.ACTIVE) {\n      this.setStatus(ConnectionStatus.INACTIVE);\n    } else if (yes && this.status === ConnectionStatus.INACTIVE) {\n      this.setStatus(ConnectionStatus.ACTIVE);\n    }\n  }\n\n  setStatus(status: ConnectionStatus) {\n    if (this.status !== status) {\n      this.status = status;\n      this.onStatusChange(status);\n    }\n  }\n\n  private send(command: string, data: any) {\n    const message = JSON.stringify({ command, data });\n    if (!this.webSocket) {\n      // eslint-disable-next-line no-console\n      console.error(`Unable to send message ${command}. No websocket is available`);\n    } else if (this.webSocket.readyState !== WebSocket.OPEN) {\n      this.webSocket.addEventListener('open', () => this.webSocket!.send(message));\n    } else {\n      this.webSocket.send(message);\n    }\n  }\n\n  setFeature(featureId: string, enabled: boolean) {\n    this.send('setFeature', { featureId, enabled });\n  }\n  sendTelemetry(browserData: any) {\n    this.send('reportTelemetry', { browserData });\n  }\n  sendLicenseCheck(product: Product) {\n    this.send('checkLicense', product);\n  }\n}\n\nenum MessageType {\n  LOG = 'log',\n  INFORMATION = 'information',\n  WARNING = 'warning',\n  ERROR = 'error'\n}\n\ninterface Message {\n  id: number;\n  type: MessageType;\n  message: string;\n  details?: string;\n  link?: string;\n  persistentId?: string;\n  dontShowAgain: boolean;\n  deleted: boolean;\n}\n\nexport class VaadinDevTools extends LitElement {\n  static BLUE_HSL = css`206, 100%, 70%`;\n  static GREEN_HSL = css`145, 80%, 42%`;\n  static GREY_HSL = css`0, 0%, 50%`;\n  static YELLOW_HSL = css`38, 98%, 64%`;\n  static RED_HSL = css`355, 100%, 68%`;\n  static MAX_LOG_ROWS = 1000;\n\n  static get styles() {\n    return css`\n      :host {\n        --dev-tools-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell,\n          'Helvetica Neue', sans-serif;\n        --dev-tools-font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New',\n          monospace;\n\n        --dev-tools-font-size: 0.8125rem;\n        --dev-tools-font-size-small: 0.75rem;\n\n        --dev-tools-text-color: rgba(255, 255, 255, 0.8);\n        --dev-tools-text-color-secondary: rgba(255, 255, 255, 0.65);\n        --dev-tools-text-color-emphasis: rgba(255, 255, 255, 0.95);\n        --dev-tools-text-color-active: rgba(255, 255, 255, 1);\n\n        --dev-tools-background-color-inactive: rgba(45, 45, 45, 0.25);\n        --dev-tools-background-color-active: rgba(45, 45, 45, 0.98);\n        --dev-tools-background-color-active-blurred: rgba(45, 45, 45, 0.85);\n\n        --dev-tools-border-radius: 0.5rem;\n        --dev-tools-box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05), 0 4px 12px -2px rgba(0, 0, 0, 0.4);\n\n        --dev-tools-blue-hsl: ${this.BLUE_HSL};\n        --dev-tools-blue-color: hsl(var(--dev-tools-blue-hsl));\n        --dev-tools-green-hsl: ${this.GREEN_HSL};\n        --dev-tools-green-color: hsl(var(--dev-tools-green-hsl));\n        --dev-tools-grey-hsl: ${this.GREY_HSL};\n        --dev-tools-grey-color: hsl(var(--dev-tools-grey-hsl));\n        --dev-tools-yellow-hsl: ${this.YELLOW_HSL};\n        --dev-tools-yellow-color: hsl(var(--dev-tools-yellow-hsl));\n        --dev-tools-red-hsl: ${this.RED_HSL};\n        --dev-tools-red-color: hsl(var(--dev-tools-red-hsl));\n\n        /* Needs to be in ms, used in JavaScript as well */\n        --dev-tools-transition-duration: 180ms;\n\n        all: initial;\n\n        direction: ltr;\n        cursor: default;\n        font: normal 400 var(--dev-tools-font-size) / 1.125rem var(--dev-tools-font-family);\n        color: var(--dev-tools-text-color);\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        user-select: none;\n\n        position: fixed;\n        z-index: 20000;\n        pointer-events: none;\n        bottom: 0;\n        right: 0;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column-reverse;\n        align-items: flex-end;\n      }\n\n      .dev-tools {\n        pointer-events: auto;\n        display: flex;\n        align-items: center;\n        position: fixed;\n        z-index: inherit;\n        right: 0.5rem;\n        bottom: 0.5rem;\n        min-width: 1.75rem;\n        height: 1.75rem;\n        max-width: 1.75rem;\n        border-radius: 0.5rem;\n        padding: 0.375rem;\n        box-sizing: border-box;\n        background-color: var(--dev-tools-background-color-inactive);\n        box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05);\n        color: var(--dev-tools-text-color);\n        transition: var(--dev-tools-transition-duration);\n        white-space: nowrap;\n        line-height: 1rem;\n      }\n\n      .dev-tools:hover,\n      .dev-tools.active {\n        background-color: var(--dev-tools-background-color-active);\n        box-shadow: var(--dev-tools-box-shadow);\n      }\n\n      .dev-tools.active {\n        max-width: calc(100% - 1rem);\n      }\n\n      .dev-tools .dev-tools-icon {\n        flex: none;\n        pointer-events: none;\n        display: inline-block;\n        width: 1rem;\n        height: 1rem;\n        fill: #fff;\n        transition: var(--dev-tools-transition-duration);\n        margin: 0;\n      }\n\n      .dev-tools.active .dev-tools-icon {\n        opacity: 0;\n        position: absolute;\n        transform: scale(0.5);\n      }\n\n      .dev-tools .status-blip {\n        flex: none;\n        display: block;\n        width: 6px;\n        height: 6px;\n        border-radius: 50%;\n        z-index: 20001;\n        background: var(--dev-tools-grey-color);\n        position: absolute;\n        top: -1px;\n        right: -1px;\n      }\n\n      .dev-tools .status-description {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding: 0 0.25rem;\n      }\n\n      .dev-tools.error {\n        background-color: hsla(var(--dev-tools-red-hsl), 0.15);\n        animation: bounce 0.5s;\n        animation-iteration-count: 2;\n      }\n\n      .switch {\n        display: inline-flex;\n        align-items: center;\n      }\n\n      .switch input {\n        opacity: 0;\n        width: 0;\n        height: 0;\n        position: absolute;\n      }\n\n      .switch .slider {\n        display: block;\n        flex: none;\n        width: 28px;\n        height: 18px;\n        border-radius: 9px;\n        background-color: rgba(255, 255, 255, 0.3);\n        transition: var(--dev-tools-transition-duration);\n        margin-right: 0.5rem;\n      }\n\n      .switch:focus-within .slider,\n      .switch .slider:hover {\n        background-color: rgba(255, 255, 255, 0.35);\n        transition: none;\n      }\n\n      .switch input:focus-visible ~ .slider {\n        box-shadow: 0 0 0 2px var(--dev-tools-background-color-active), 0 0 0 4px var(--dev-tools-blue-color);\n      }\n\n      .switch .slider::before {\n        content: '';\n        display: block;\n        margin: 2px;\n        width: 14px;\n        height: 14px;\n        background-color: #fff;\n        transition: var(--dev-tools-transition-duration);\n        border-radius: 50%;\n      }\n\n      .switch input:checked + .slider {\n        background-color: var(--dev-tools-green-color);\n      }\n\n      .switch input:checked + .slider::before {\n        transform: translateX(10px);\n      }\n\n      .switch input:disabled + .slider::before {\n        background-color: var(--dev-tools-grey-color);\n      }\n\n      .window.hidden {\n        opacity: 0;\n        transform: scale(0);\n        position: absolute;\n      }\n\n      .window.visible {\n        transform: none;\n        opacity: 1;\n        pointer-events: auto;\n      }\n\n      .window.visible ~ .dev-tools {\n        opacity: 0;\n        pointer-events: none;\n      }\n\n      .window.visible ~ .dev-tools .dev-tools-icon,\n      .window.visible ~ .dev-tools .status-blip {\n        transition: none;\n        opacity: 0;\n      }\n\n      .window {\n        border-radius: var(--dev-tools-border-radius);\n        overflow: hidden;\n        margin: 0.5rem;\n        width: 30rem;\n        max-width: calc(100% - 1rem);\n        max-height: calc(100vh - 1rem);\n        flex-shrink: 1;\n        background-color: var(--dev-tools-background-color-active);\n        color: var(--dev-tools-text-color);\n        transition: var(--dev-tools-transition-duration);\n        transform-origin: bottom right;\n        display: flex;\n        flex-direction: column;\n        box-shadow: var(--dev-tools-box-shadow);\n        outline: none;\n      }\n\n      .window-toolbar {\n        display: flex;\n        flex: none;\n        align-items: center;\n        padding: 0.375rem;\n        white-space: nowrap;\n        order: 1;\n        background-color: rgba(0, 0, 0, 0.2);\n        gap: 0.5rem;\n      }\n\n      .tab {\n        color: var(--dev-tools-text-color-secondary);\n        font: inherit;\n        font-size: var(--dev-tools-font-size-small);\n        font-weight: 500;\n        line-height: 1;\n        padding: 0.25rem 0.375rem;\n        background: none;\n        border: none;\n        margin: 0;\n        border-radius: 0.25rem;\n        transition: var(--dev-tools-transition-duration);\n      }\n\n      .tab:hover,\n      .tab.active {\n        color: var(--dev-tools-text-color-active);\n      }\n\n      .tab.active {\n        background-color: rgba(255, 255, 255, 0.12);\n      }\n\n      .tab.unreadErrors::after {\n        content: '•';\n        color: hsl(var(--dev-tools-red-hsl));\n        font-size: 1.5rem;\n        position: absolute;\n        transform: translate(0, -50%);\n      }\n\n      .ahreflike {\n        font-weight: 500;\n        color: var(--dev-tools-text-color-secondary);\n        text-decoration: underline;\n        cursor: pointer;\n      }\n\n      .ahreflike:hover {\n        color: var(--dev-tools-text-color-emphasis);\n      }\n\n      .button {\n        all: initial;\n        font-family: inherit;\n        font-size: var(--dev-tools-font-size-small);\n        line-height: 1;\n        white-space: nowrap;\n        background-color: rgba(0, 0, 0, 0.2);\n        color: inherit;\n        font-weight: 600;\n        padding: 0.25rem 0.375rem;\n        border-radius: 0.25rem;\n      }\n\n      .button:focus,\n      .button:hover {\n        color: var(--dev-tools-text-color-emphasis);\n      }\n\n      .minimize-button {\n        flex: none;\n        width: 1rem;\n        height: 1rem;\n        color: inherit;\n        background-color: transparent;\n        border: 0;\n        padding: 0;\n        margin: 0 0 0 auto;\n        opacity: 0.8;\n      }\n\n      .minimize-button:hover {\n        opacity: 1;\n      }\n\n      .minimize-button svg {\n        max-width: 100%;\n      }\n\n      .message.information {\n        --dev-tools-notification-color: var(--dev-tools-blue-color);\n      }\n\n      .message.warning {\n        --dev-tools-notification-color: var(--dev-tools-yellow-color);\n      }\n\n      .message.error {\n        --dev-tools-notification-color: var(--dev-tools-red-color);\n      }\n\n      .message {\n        display: flex;\n        padding: 0.1875rem 0.75rem 0.1875rem 2rem;\n        background-clip: padding-box;\n      }\n\n      .message.log {\n        padding-left: 0.75rem;\n      }\n\n      .message-content {\n        margin-right: 0.5rem;\n        -webkit-user-select: text;\n        -moz-user-select: text;\n        user-select: text;\n      }\n\n      .message-heading {\n        position: relative;\n        display: flex;\n        align-items: center;\n        margin: 0.125rem 0;\n      }\n\n      .message.log {\n        color: var(--dev-tools-text-color-secondary);\n      }\n\n      .message:not(.log) .message-heading {\n        font-weight: 500;\n      }\n\n      .message.has-details .message-heading {\n        color: var(--dev-tools-text-color-emphasis);\n        font-weight: 600;\n      }\n\n      .message-heading::before {\n        position: absolute;\n        margin-left: -1.5rem;\n        display: inline-block;\n        text-align: center;\n        font-size: 0.875em;\n        font-weight: 600;\n        line-height: calc(1.25em - 2px);\n        width: 14px;\n        height: 14px;\n        box-sizing: border-box;\n        border: 1px solid transparent;\n        border-radius: 50%;\n      }\n\n      .message.information .message-heading::before {\n        content: 'i';\n        border-color: currentColor;\n        color: var(--dev-tools-notification-color);\n      }\n\n      .message.warning .message-heading::before,\n      .message.error .message-heading::before {\n        content: '!';\n        color: var(--dev-tools-background-color-active);\n        background-color: var(--dev-tools-notification-color);\n      }\n\n      .features-tray {\n        padding: 0.75rem;\n        flex: auto;\n        overflow: auto;\n        animation: fade-in var(--dev-tools-transition-duration) ease-in;\n        user-select: text;\n      }\n\n      .features-tray p {\n        margin-top: 0;\n        color: var(--dev-tools-text-color-secondary);\n      }\n\n      .features-tray .feature {\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n        padding-bottom: 0.5em;\n      }\n\n      .message .message-details {\n        font-weight: 400;\n        color: var(--dev-tools-text-color-secondary);\n        margin: 0.25rem 0;\n      }\n\n      .message .message-details[hidden] {\n        display: none;\n      }\n\n      .message .message-details p {\n        display: inline;\n        margin: 0;\n        margin-right: 0.375em;\n        word-break: break-word;\n      }\n\n      .message .persist {\n        color: var(--dev-tools-text-color-secondary);\n        white-space: nowrap;\n        margin: 0.375rem 0;\n        display: flex;\n        align-items: center;\n        position: relative;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        user-select: none;\n      }\n\n      .message .persist::before {\n        content: '';\n        width: 1em;\n        height: 1em;\n        border-radius: 0.2em;\n        margin-right: 0.375em;\n        background-color: rgba(255, 255, 255, 0.3);\n      }\n\n      .message .persist:hover::before {\n        background-color: rgba(255, 255, 255, 0.4);\n      }\n\n      .message .persist.on::before {\n        background-color: rgba(255, 255, 255, 0.9);\n      }\n\n      .message .persist.on::after {\n        content: '';\n        order: -1;\n        position: absolute;\n        width: 0.75em;\n        height: 0.25em;\n        border: 2px solid var(--dev-tools-background-color-active);\n        border-width: 0 0 2px 2px;\n        transform: translate(0.05em, -0.05em) rotate(-45deg) scale(0.8, 0.9);\n      }\n\n      .message .dismiss-message {\n        font-weight: 600;\n        align-self: stretch;\n        display: flex;\n        align-items: center;\n        padding: 0 0.25rem;\n        margin-left: 0.5rem;\n        color: var(--dev-tools-text-color-secondary);\n      }\n\n      .message .dismiss-message:hover {\n        color: var(--dev-tools-text-color);\n      }\n\n      .notification-tray {\n        display: flex;\n        flex-direction: column-reverse;\n        align-items: flex-end;\n        margin: 0.5rem;\n        flex: none;\n      }\n\n      .window.hidden + .notification-tray {\n        margin-bottom: 3rem;\n      }\n\n      .notification-tray .message {\n        pointer-events: auto;\n        background-color: var(--dev-tools-background-color-active);\n        color: var(--dev-tools-text-color);\n        max-width: 30rem;\n        box-sizing: border-box;\n        border-radius: var(--dev-tools-border-radius);\n        margin-top: 0.5rem;\n        transition: var(--dev-tools-transition-duration);\n        transform-origin: bottom right;\n        animation: slideIn var(--dev-tools-transition-duration);\n        box-shadow: var(--dev-tools-box-shadow);\n        padding-top: 0.25rem;\n        padding-bottom: 0.25rem;\n      }\n\n      .notification-tray .message.animate-out {\n        animation: slideOut forwards var(--dev-tools-transition-duration);\n      }\n\n      .notification-tray .message .message-details {\n        max-height: 10em;\n        overflow: hidden;\n      }\n\n      .message-tray {\n        flex: auto;\n        overflow: auto;\n        max-height: 20rem;\n        user-select: text;\n      }\n\n      .message-tray .message {\n        animation: fade-in var(--dev-tools-transition-duration) ease-in;\n        padding-left: 2.25rem;\n      }\n\n      .message-tray .message.warning {\n        background-color: hsla(var(--dev-tools-yellow-hsl), 0.09);\n      }\n\n      .message-tray .message.error {\n        background-color: hsla(var(--dev-tools-red-hsl), 0.09);\n      }\n\n      .message-tray .message.error .message-heading {\n        color: hsl(var(--dev-tools-red-hsl));\n      }\n\n      .message-tray .message.warning .message-heading {\n        color: hsl(var(--dev-tools-yellow-hsl));\n      }\n\n      .message-tray .message + .message {\n        border-top: 1px solid rgba(255, 255, 255, 0.07);\n      }\n\n      .message-tray .dismiss-message,\n      .message-tray .persist {\n        display: none;\n      }\n\n      .info-tray {\n        padding: 0.75rem;\n        position: relative;\n        flex: auto;\n        overflow: auto;\n        animation: fade-in var(--dev-tools-transition-duration) ease-in;\n        user-select: text;\n      }\n\n      .info-tray dl {\n        margin: 0;\n        display: grid;\n        grid-template-columns: max-content 1fr;\n        column-gap: 0.75rem;\n        position: relative;\n      }\n\n      .info-tray dt {\n        grid-column: 1;\n        color: var(--dev-tools-text-color-emphasis);\n      }\n\n      .info-tray dt:not(:first-child)::before {\n        content: '';\n        width: 100%;\n        position: absolute;\n        height: 1px;\n        background-color: rgba(255, 255, 255, 0.1);\n        margin-top: -0.375rem;\n      }\n\n      .info-tray dd {\n        grid-column: 2;\n        margin: 0;\n      }\n\n      .info-tray :is(dt, dd):not(:last-child) {\n        margin-bottom: 0.75rem;\n      }\n\n      .info-tray dd + dd {\n        margin-top: -0.5rem;\n      }\n\n      .info-tray .live-reload-status::before {\n        content: '•';\n        color: var(--status-color);\n        width: 0.75rem;\n        display: inline-block;\n        font-size: 1rem;\n        line-height: 0.5rem;\n      }\n\n      .info-tray .copy {\n        position: fixed;\n        z-index: 1;\n        top: 0.5rem;\n        right: 0.5rem;\n      }\n\n      .info-tray .switch {\n        vertical-align: -4px;\n      }\n\n      @keyframes slideIn {\n        from {\n          transform: translateX(100%);\n          opacity: 0;\n        }\n        to {\n          transform: translateX(0%);\n          opacity: 1;\n        }\n      }\n\n      @keyframes slideOut {\n        from {\n          transform: translateX(0%);\n          opacity: 1;\n        }\n        to {\n          transform: translateX(100%);\n          opacity: 0;\n        }\n      }\n\n      @keyframes fade-in {\n        0% {\n          opacity: 0;\n        }\n      }\n\n      @keyframes bounce {\n        0% {\n          transform: scale(0.8);\n        }\n        50% {\n          transform: scale(1.5);\n          background-color: hsla(var(--dev-tools-red-hsl), 1);\n        }\n        100% {\n          transform: scale(1);\n        }\n      }\n\n      @supports (backdrop-filter: blur(1px)) {\n        .dev-tools,\n        .window,\n        .notification-tray .message {\n          backdrop-filter: blur(8px);\n        }\n        .dev-tools:hover,\n        .dev-tools.active,\n        .window,\n        .notification-tray .message {\n          background-color: var(--dev-tools-background-color-active-blurred);\n        }\n      }\n    `;\n  }\n\n  static DISMISSED_NOTIFICATIONS_IN_LOCAL_STORAGE = 'vaadin.live-reload.dismissedNotifications';\n  static ACTIVE_KEY_IN_SESSION_STORAGE = 'vaadin.live-reload.active';\n  static TRIGGERED_KEY_IN_SESSION_STORAGE = 'vaadin.live-reload.triggered';\n  static TRIGGERED_COUNT_KEY_IN_SESSION_STORAGE = 'vaadin.live-reload.triggeredCount';\n\n  static AUTO_DEMOTE_NOTIFICATION_DELAY = 5000;\n\n  static HOTSWAP_AGENT = 'HOTSWAP_AGENT';\n  static JREBEL = 'JREBEL';\n  static SPRING_BOOT_DEVTOOLS = 'SPRING_BOOT_DEVTOOLS';\n  static BACKEND_DISPLAY_NAME: Record<string, string> = {\n    HOTSWAP_AGENT: 'HotswapAgent',\n    JREBEL: 'JRebel',\n    SPRING_BOOT_DEVTOOLS: 'Spring Boot Devtools'\n  };\n\n  static get isActive() {\n    const active = window.sessionStorage.getItem(VaadinDevTools.ACTIVE_KEY_IN_SESSION_STORAGE);\n    return active === null || active !== 'false';\n  }\n\n  static notificationDismissed(persistentId: string) {\n    const shown = window.localStorage.getItem(VaadinDevTools.DISMISSED_NOTIFICATIONS_IN_LOCAL_STORAGE);\n    return shown !== null && shown.includes(persistentId);\n  }\n\n  @property({ type: String })\n  url?: string;\n\n  @property({ type: Boolean, attribute: true })\n  liveReloadDisabled?: boolean;\n\n  @property({ type: String })\n  backend?: string;\n\n  @property({ type: Number })\n  springBootLiveReloadPort?: number;\n\n  @property({ type: Boolean, attribute: false })\n  expanded: boolean = false;\n\n  @property({ type: Array, attribute: false })\n  messages: Message[] = [];\n\n  @property({ type: String, attribute: false })\n  splashMessage?: string;\n\n  @property({ type: Array, attribute: false })\n  notifications: Message[] = [];\n\n  @property({ type: String, attribute: false })\n  frontendStatus: ConnectionStatus = ConnectionStatus.UNAVAILABLE;\n\n  @property({ type: String, attribute: false })\n  javaStatus: ConnectionStatus = ConnectionStatus.UNAVAILABLE;\n\n  @state()\n  private tabs: readonly Tab[] = [\n    { id: 'log', title: 'Log', render: this.renderLog, activate: this.activateLog },\n    { id: 'info', title: 'Info', render: this.renderInfo },\n    { id: 'features', title: 'Experimental Features', render: this.renderFeatures }\n  ];\n\n  @state()\n  private activeTab: string = 'log';\n\n  @state()\n  private serverInfo: ServerInfo = {\n    flowVersion: '',\n    vaadinVersion: '',\n    javaVersion: '',\n    osVersion: '',\n    productName: ''\n  };\n\n  @state()\n  private features: Feature[] = [];\n\n  @state()\n  private unreadErrors = false;\n\n  @query('.window')\n  private root!: HTMLElement;\n\n  private javaConnection?: Connection;\n  private frontendConnection?: Connection;\n\n  private nextMessageId: number = 1;\n\n  private disableEventListener?: EventListener;\n\n  private transitionDuration: number = 0;\n\n  elementTelemetry() {\n    let data = {};\n    try {\n      // localstorage data is collected by vaadin-usage-statistics.js\n      const localStorageStatsString = localStorage.getItem('vaadin.statistics.basket');\n      if (!localStorageStatsString) {\n        // Do not send empty data\n        return;\n      }\n      data = JSON.parse(localStorageStatsString);\n    } catch (e) {\n      // In case of parse errors don't send anything\n      return;\n    }\n\n    if (this.frontendConnection) {\n      this.frontendConnection.sendTelemetry(data);\n    }\n  }\n\n  openWebSocketConnection() {\n    this.frontendStatus = ConnectionStatus.UNAVAILABLE;\n    this.javaStatus = ConnectionStatus.UNAVAILABLE;\n\n    const onConnectionError = (msg: string) => this.log(MessageType.ERROR, msg);\n    const onReload = () => {\n      if (this.liveReloadDisabled) {\n        return;\n      }\n      this.showSplashMessage('Reloading…');\n      const lastReload = window.sessionStorage.getItem(VaadinDevTools.TRIGGERED_COUNT_KEY_IN_SESSION_STORAGE);\n      const nextReload = lastReload ? parseInt(lastReload, 10) + 1 : 1;\n      window.sessionStorage.setItem(VaadinDevTools.TRIGGERED_COUNT_KEY_IN_SESSION_STORAGE, nextReload.toString());\n      window.sessionStorage.setItem(VaadinDevTools.TRIGGERED_KEY_IN_SESSION_STORAGE, 'true');\n      window.location.reload();\n    };\n\n    const frontendConnection = new Connection(this.getDedicatedWebSocketUrl());\n    frontendConnection.onHandshake = () => {\n      this.log(MessageType.LOG, 'Vaadin development mode initialized');\n      if (!VaadinDevTools.isActive) {\n        frontendConnection.setActive(false);\n      }\n      this.elementTelemetry();\n    };\n    frontendConnection.onConnectionError = onConnectionError;\n    frontendConnection.onReload = onReload;\n    frontendConnection.onStatusChange = (status: ConnectionStatus) => {\n      this.frontendStatus = status;\n    };\n    frontendConnection.onMessage = (message: any) => {\n      if (message?.command === 'serverInfo') {\n        this.serverInfo = message.data as ServerInfo;\n      } else if (message?.command === 'featureFlags') {\n        this.features = message.data.features as Feature[];\n      } else {\n        // eslint-disable-next-line no-console\n        console.error('Unknown message from front-end connection:', JSON.stringify(message));\n      }\n    };\n    this.frontendConnection = frontendConnection;\n\n    let javaConnection: Connection;\n    if (this.backend === VaadinDevTools.SPRING_BOOT_DEVTOOLS && this.springBootLiveReloadPort) {\n      javaConnection = new Connection(this.getSpringBootWebSocketUrl(window.location));\n      javaConnection.onHandshake = () => {\n        if (!VaadinDevTools.isActive) {\n          javaConnection.setActive(false);\n        }\n      };\n      javaConnection.onReload = onReload;\n      javaConnection.onConnectionError = onConnectionError;\n    } else if (this.backend === VaadinDevTools.JREBEL || this.backend === VaadinDevTools.HOTSWAP_AGENT) {\n      javaConnection = frontendConnection;\n    } else {\n      javaConnection = new Connection(undefined);\n    }\n    const prevOnStatusChange = javaConnection.onStatusChange;\n    javaConnection.onStatusChange = (status) => {\n      prevOnStatusChange(status);\n      this.javaStatus = status;\n    };\n    const prevOnHandshake = javaConnection.onHandshake;\n    javaConnection.onHandshake = () => {\n      prevOnHandshake();\n      if (this.backend) {\n        this.log(\n          MessageType.INFORMATION,\n          `Java live reload available: ${VaadinDevTools.BACKEND_DISPLAY_NAME[this.backend]}`\n        );\n      }\n    };\n    this.javaConnection = javaConnection;\n\n    if (!this.backend) {\n      this.showNotification(\n        MessageType.WARNING,\n        'Java live reload unavailable',\n        'Live reload for Java changes is currently not set up. Find out how to make use of this functionality to boost your workflow.',\n        'https://vaadin.com/docs/latest/flow/configuration/live-reload',\n        'liveReloadUnavailable'\n      );\n    }\n  }\n\n  getDedicatedWebSocketUrl(): string | undefined {\n    function getAbsoluteUrl(relative: string) {\n      // Use innerHTML to obtain an absolute URL\n      const div = document.createElement('div');\n      div.innerHTML = `<a href=\"${relative}\"/>`;\n      return (div.firstChild as HTMLLinkElement).href;\n    }\n    if (this.url === undefined) {\n      return undefined;\n    }\n    const connectionBaseUrl = getAbsoluteUrl(this.url!);\n\n    if (!connectionBaseUrl.startsWith('http://') && !connectionBaseUrl.startsWith('https://')) {\n      // eslint-disable-next-line no-console\n      console.error('The protocol of the url should be http or https for live reload to work.');\n      return undefined;\n    }\n    return `${connectionBaseUrl.replace(/^http/, 'ws')}?v-r=push&debug_window`;\n  }\n\n  getSpringBootWebSocketUrl(location: any) {\n    const { hostname } = location;\n    const wsProtocol = location.protocol === 'https:' ? 'wss' : 'ws';\n    if (hostname.endsWith('gitpod.io')) {\n      // Gitpod uses `port-url` instead of `url:port`\n      const hostnameWithoutPort = hostname.replace(/.*?-/, '');\n      return `${wsProtocol}://${this.springBootLiveReloadPort}-${hostnameWithoutPort}`;\n    } else {\n      return `${wsProtocol}://${hostname}:${this.springBootLiveReloadPort}`;\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.catchErrors();\n\n    // when focus or clicking anywhere, move the splash message to the message tray\n    this.disableEventListener = (_: any) => this.demoteSplashMessage();\n    document.body.addEventListener('focus', this.disableEventListener);\n    document.body.addEventListener('click', this.disableEventListener);\n    this.openWebSocketConnection();\n\n    const lastReload = window.sessionStorage.getItem(VaadinDevTools.TRIGGERED_KEY_IN_SESSION_STORAGE);\n    if (lastReload) {\n      const now = new Date();\n      const reloaded = `${`0${now.getHours()}`.slice(-2)}:${`0${now.getMinutes()}`.slice(\n        -2\n      )}:${`0${now.getSeconds()}`.slice(-2)}`;\n      this.showSplashMessage(`Page reloaded at ${reloaded}`);\n      window.sessionStorage.removeItem(VaadinDevTools.TRIGGERED_KEY_IN_SESSION_STORAGE);\n    }\n\n    this.transitionDuration = parseInt(\n      window.getComputedStyle(this).getPropertyValue('--dev-tools-transition-duration'),\n      10\n    );\n\n    const windowAny = window as any;\n    windowAny.Vaadin = windowAny.Vaadin || {};\n    windowAny.Vaadin.devTools = Object.assign(this, windowAny.Vaadin.devTools);\n\n    licenseInit();\n  }\n  format(o: any): string {\n    return o.toString();\n  }\n  catchErrors() {\n    // Process stored messages\n    const queue = (window as any).Vaadin.ConsoleErrors as any[];\n    if (queue) {\n      queue.forEach((args: any[]) => {\n        this.log(MessageType.ERROR, args.map((o) => this.format(o)).join(' '));\n      });\n    }\n    // Install new handler that immediately processes messages\n    (window as any).Vaadin.ConsoleErrors = {\n      push: (args: any[]) => {\n        this.log(MessageType.ERROR, args.map((o) => this.format(o)).join(' '));\n      }\n    };\n  }\n\n  disconnectedCallback() {\n    if (this.disableEventListener) {\n      document.body.removeEventListener('focus', this.disableEventListener!);\n      document.body.removeEventListener('click', this.disableEventListener!);\n    }\n    super.disconnectedCallback();\n  }\n\n  toggleExpanded() {\n    this.notifications.slice().forEach((notification) => this.dismissNotification(notification.id));\n    this.expanded = !this.expanded;\n    if (this.expanded) {\n      this.root.focus();\n    }\n  }\n\n  showSplashMessage(msg: string | undefined) {\n    this.splashMessage = msg;\n    if (this.splashMessage) {\n      if (this.expanded) {\n        this.demoteSplashMessage();\n      } else {\n        // automatically move notification to message tray after a certain amount of time\n        setTimeout(() => {\n          this.demoteSplashMessage();\n        }, VaadinDevTools.AUTO_DEMOTE_NOTIFICATION_DELAY);\n      }\n    }\n  }\n\n  demoteSplashMessage() {\n    if (this.splashMessage) {\n      this.log(MessageType.LOG, this.splashMessage);\n    }\n    this.showSplashMessage(undefined);\n  }\n\n  checkLicense(productInfo: Product) {\n    if (this.frontendConnection) {\n      this.frontendConnection.sendLicenseCheck(productInfo);\n    } else {\n      licenseCheckFailed({ message: 'Internal error: no connection', product: productInfo });\n    }\n  }\n\n  log(type: MessageType, message: string, details?: string, link?: string) {\n    const id = this.nextMessageId;\n    this.nextMessageId += 1;\n    this.messages.push({\n      id,\n      type,\n      message,\n      details,\n      link,\n      dontShowAgain: false,\n      deleted: false\n    });\n    while (this.messages.length > VaadinDevTools.MAX_LOG_ROWS) {\n      this.messages.shift();\n    }\n    this.requestUpdate();\n    this.updateComplete.then(() => {\n      // Scroll into view\n      const lastMessage = this.renderRoot.querySelector('.message-tray .message:last-child');\n      if (this.expanded && lastMessage) {\n        setTimeout(() => lastMessage.scrollIntoView({ behavior: 'smooth' }), this.transitionDuration);\n        this.unreadErrors = false;\n      } else if (type === MessageType.ERROR) {\n        this.unreadErrors = true;\n      }\n    });\n  }\n\n  showNotification(type: MessageType, message: string, details?: string, link?: string, persistentId?: string) {\n    if (persistentId === undefined || !VaadinDevTools.notificationDismissed(persistentId!)) {\n      // Do not open persistent message if another is already visible with the same persistentId\n      const matchingVisibleNotifications = this.notifications\n        .filter((notification) => notification.persistentId === persistentId)\n        .filter((notification) => !notification.deleted);\n      if (matchingVisibleNotifications.length > 0) {\n        return;\n      }\n      const id = this.nextMessageId;\n      this.nextMessageId += 1;\n      this.notifications.push({\n        id,\n        type,\n        message,\n        details,\n        link,\n        persistentId,\n        dontShowAgain: false,\n        deleted: false\n      });\n      // automatically move notification to message tray after a certain amount of time unless it contains a link\n      if (link === undefined) {\n        setTimeout(() => {\n          this.dismissNotification(id);\n        }, VaadinDevTools.AUTO_DEMOTE_NOTIFICATION_DELAY);\n      }\n      this.requestUpdate();\n    } else {\n      this.log(type, message, details, link);\n    }\n  }\n\n  dismissNotification(id: number) {\n    const index = this.findNotificationIndex(id);\n    if (index !== -1 && !this.notifications[index].deleted) {\n      const notification = this.notifications[index];\n\n      // user is explicitly dismissing a notification---after that we won't bug them with it\n      if (\n        notification.dontShowAgain &&\n        notification.persistentId &&\n        !VaadinDevTools.notificationDismissed(notification.persistentId)\n      ) {\n        let dismissed = window.localStorage.getItem(VaadinDevTools.DISMISSED_NOTIFICATIONS_IN_LOCAL_STORAGE);\n        dismissed = dismissed === null ? notification.persistentId : `${dismissed},${notification.persistentId}`;\n        window.localStorage.setItem(VaadinDevTools.DISMISSED_NOTIFICATIONS_IN_LOCAL_STORAGE, dismissed);\n      }\n\n      notification.deleted = true;\n      this.log(notification.type, notification.message, notification.details, notification.link);\n\n      // give some time for the animation\n      setTimeout(() => {\n        const idx = this.findNotificationIndex(id);\n        if (idx !== -1) {\n          this.notifications.splice(idx, 1);\n          this.requestUpdate();\n        }\n      }, this.transitionDuration);\n    }\n  }\n\n  findNotificationIndex(id: number): number {\n    let index = -1;\n    this.notifications.some((notification, idx) => {\n      if (notification.id === id) {\n        index = idx;\n        return true;\n      } else {\n        return false;\n      }\n    });\n    return index;\n  }\n\n  toggleDontShowAgain(id: number) {\n    const index = this.findNotificationIndex(id);\n    if (index !== -1 && !this.notifications[index].deleted) {\n      const notification = this.notifications[index];\n      notification.dontShowAgain = !notification.dontShowAgain;\n      this.requestUpdate();\n    }\n  }\n\n  setActive(yes: boolean) {\n    this.frontendConnection?.setActive(yes);\n    this.javaConnection?.setActive(yes);\n    window.sessionStorage.setItem(VaadinDevTools.ACTIVE_KEY_IN_SESSION_STORAGE, yes ? 'true' : 'false');\n  }\n\n  getStatusColor(status: ConnectionStatus | undefined) {\n    if (status === ConnectionStatus.ACTIVE) {\n      return css`hsl(${VaadinDevTools.GREEN_HSL})`;\n    } else if (status === ConnectionStatus.INACTIVE) {\n      return css`hsl(${VaadinDevTools.GREY_HSL})`;\n    } else if (status === ConnectionStatus.UNAVAILABLE) {\n      return css`hsl(${VaadinDevTools.YELLOW_HSL})`;\n    } else if (status === ConnectionStatus.ERROR) {\n      return css`hsl(${VaadinDevTools.RED_HSL})`;\n    } else {\n      return css`none`;\n    }\n  }\n\n  /* eslint-disable lit/no-template-arrow */\n  renderMessage(messageObject: Message) {\n    return html`\n      <div\n        class=\"message ${messageObject.type} ${messageObject.deleted ? 'animate-out' : ''} ${messageObject.details ||\n        messageObject.link\n          ? 'has-details'\n          : ''}\"\n      >\n        <div class=\"message-content\">\n          <div class=\"message-heading\">${messageObject.message}</div>\n          <div class=\"message-details\" ?hidden=\"${!messageObject.details && !messageObject.link}\">\n            ${messageObject.details ? html`<p>${messageObject.details}</p>` : ''}\n            ${messageObject.link\n              ? html`<a class=\"ahreflike\" href=\"${messageObject.link}\" target=\"_blank\">Learn more</a>`\n              : ''}\n          </div>\n          ${messageObject.persistentId\n            ? html`<div\n                class=\"persist ${messageObject.dontShowAgain ? 'on' : 'off'}\"\n                @click=${() => this.toggleDontShowAgain(messageObject.id)}\n              >\n                Don’t show again\n              </div>`\n            : ''}\n        </div>\n        <div class=\"dismiss-message\" @click=${() => this.dismissNotification(messageObject.id)}>Dismiss</div>\n      </div>\n    `;\n  }\n\n  /* eslint-disable lit/no-template-map */\n  render() {\n    return html` <div\n        class=\"window ${this.expanded ? 'visible' : 'hidden'}\"\n        tabindex=\"0\"\n        @keydown=${(e: KeyboardEvent) => e.key === 'Escape' && this.toggleExpanded()}\n      >\n        <div class=\"window-toolbar\">\n          ${this.tabs.map(\n            (tab) =>\n              html`<button\n                class=${classMap({\n                  tab: true,\n                  active: this.activeTab === tab.id,\n                  unreadErrors: tab.id === 'log' && this.unreadErrors\n                })}\n                id=\"${tab.id}\"\n                @click=${() => {\n                  this.activeTab = tab.id;\n                  if (tab.activate) tab.activate.call(this);\n                }}\n              >\n                ${tab.title}\n              </button> `\n          )}\n          <button class=\"minimize-button\" title=\"Minimize\" @click=${() => this.toggleExpanded()}>\n            <svg fill=\"none\" height=\"16\" viewBox=\"0 0 16 16\" width=\"16\" xmlns=\"http://www.w3.org/2000/svg\">\n              <g fill=\"#fff\" opacity=\".8\">\n                <path\n                  d=\"m7.25 1.75c0-.41421.33579-.75.75-.75h3.25c2.0711 0 3.75 1.67893 3.75 3.75v6.5c0 2.0711-1.6789 3.75-3.75 3.75h-6.5c-2.07107 0-3.75-1.6789-3.75-3.75v-3.25c0-.41421.33579-.75.75-.75s.75.33579.75.75v3.25c0 1.2426 1.00736 2.25 2.25 2.25h6.5c1.2426 0 2.25-1.0074 2.25-2.25v-6.5c0-1.24264-1.0074-2.25-2.25-2.25h-3.25c-.41421 0-.75-.33579-.75-.75z\"\n                />\n                <path\n                  d=\"m2.96967 2.96967c.29289-.29289.76777-.29289 1.06066 0l5.46967 5.46967v-2.68934c0-.41421.33579-.75.75-.75.4142 0 .75.33579.75.75v4.5c0 .4142-.3358.75-.75.75h-4.5c-.41421 0-.75-.3358-.75-.75 0-.41421.33579-.75.75-.75h2.68934l-5.46967-5.46967c-.29289-.29289-.29289-.76777 0-1.06066z\"\n                />\n              </g>\n            </svg>\n          </button>\n        </div>\n        ${this.tabs.map((tab) => (this.activeTab === tab.id ? tab.render.call(this) : nothing))}\n      </div>\n\n      <div class=\"notification-tray\">${this.notifications.map((msg) => this.renderMessage(msg))}</div>\n      <div\n        class=\"dev-tools ${this.splashMessage ? 'active' : ''}${this.unreadErrors ? ' error' : ''}\"\n        @click=${() => this.toggleExpanded()}\n      >\n        ${this.unreadErrors\n          ? html`<svg\n              fill=\"none\"\n              height=\"16\"\n              viewBox=\"0 0 16 16\"\n              width=\"16\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              class=\"dev-tools-icon error\"\n            >\n              <clipPath id=\"a\"><path d=\"m0 0h16v16h-16z\" /></clipPath>\n              <g clip-path=\"url(#a)\">\n                <path\n                  d=\"m6.25685 2.09894c.76461-1.359306 2.72169-1.359308 3.4863 0l5.58035 9.92056c.7499 1.3332-.2135 2.9805-1.7432 2.9805h-11.1606c-1.529658 0-2.4930857-1.6473-1.743156-2.9805z\"\n                  fill=\"#ff5c69\"\n                />\n                <path\n                  d=\"m7.99699 4c-.45693 0-.82368.37726-.81077.834l.09533 3.37352c.01094.38726.32803.69551.71544.69551.38741 0 .70449-.30825.71544-.69551l.09533-3.37352c.0129-.45674-.35384-.834-.81077-.834zm.00301 8c.60843 0 1-.3879 1-.979 0-.5972-.39157-.9851-1-.9851s-1 .3879-1 .9851c0 .5911.39157.979 1 .979z\"\n                  fill=\"#fff\"\n                />\n              </g>\n            </svg>`\n          : html`<svg\n              fill=\"none\"\n              height=\"17\"\n              viewBox=\"0 0 16 17\"\n              width=\"16\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              class=\"dev-tools-icon logo\"\n            >\n              <g fill=\"#fff\">\n                <path\n                  d=\"m8.88273 5.97926c0 .04401-.0032.08898-.00801.12913-.02467.42848-.37813.76767-.8117.76767-.43358 0-.78704-.34112-.81171-.76928-.00481-.04015-.00801-.08351-.00801-.12752 0-.42784-.10255-.87656-1.14434-.87656h-3.48364c-1.57118 0-2.315271-.72849-2.315271-2.21758v-1.26683c0-.42431.324618-.768314.748261-.768314.42331 0 .74441.344004.74441.768314v.42784c0 .47924.39576.81265 1.11293.81265h3.41538c1.5542 0 1.67373 1.156 1.725 1.7679h.03429c.05095-.6119.17048-1.7679 1.72468-1.7679h3.4154c.7172 0 1.0145-.32924 1.0145-.80847l-.0067-.43202c0-.42431.3227-.768314.7463-.768314.4234 0 .7255.344004.7255.768314v1.26683c0 1.48909-.6181 2.21758-2.1893 2.21758h-3.4836c-1.04182 0-1.14437.44872-1.14437.87656z\"\n                />\n                <path\n                  d=\"m8.82577 15.1648c-.14311.3144-.4588.5335-.82635.5335-.37268 0-.69252-.2249-.83244-.5466-.00206-.0037-.00412-.0073-.00617-.0108-.00275-.0047-.00549-.0094-.00824-.0145l-3.16998-5.87318c-.08773-.15366-.13383-.32816-.13383-.50395 0-.56168.45592-1.01879 1.01621-1.01879.45048 0 .75656.22069.96595.6993l2.16882 4.05042 2.17166-4.05524c.2069-.47379.513-.69448.9634-.69448.5603 0 1.0166.45711 1.0166 1.01879 0 .17579-.0465.35029-.1348.50523l-3.1697 5.8725c-.00503.0096-.01006.0184-.01509.0272-.00201.0036-.00402.0071-.00604.0106z\"\n                />\n              </g>\n            </svg>`}\n\n        <span\n          class=\"status-blip\"\n          style=\"background: linear-gradient(to right, ${this.getStatusColor(\n            this.frontendStatus\n          )} 50%, ${this.getStatusColor(this.javaStatus)} 50%)\"\n        ></span>\n        ${this.splashMessage ? html`<span class=\"status-description\">${this.splashMessage}</span></div>` : nothing}\n      </div>`;\n  }\n\n  renderLog() {\n    return html`<div class=\"message-tray\">${this.messages.map((msg) => this.renderMessage(msg))}</div>`;\n  }\n  activateLog() {\n    this.unreadErrors = false;\n    this.updateComplete.then(() => {\n      const lastMessage = this.renderRoot.querySelector('.message-tray .message:last-child');\n      if (lastMessage) {\n        lastMessage.scrollIntoView();\n      }\n    });\n  }\n\n  renderInfo() {\n    return html`<div class=\"info-tray\">\n      <button class=\"button copy\" @click=${this.copyInfoToClipboard}>Copy</button>\n      <dl>\n        <dt>${this.serverInfo.productName}</dt>\n        <dd>${this.serverInfo.vaadinVersion}</dd>\n        <dt>Flow</dt>\n        <dd>${this.serverInfo.flowVersion}</dd>\n        <dt>Java</dt>\n        <dd>${this.serverInfo.javaVersion}</dd>\n        <dt>OS</dt>\n        <dd>${this.serverInfo.osVersion}</dd>\n        <dt>Browser</dt>\n        <dd>${navigator.userAgent}</dd>\n        <dt>\n          Live reload\n          <label class=\"switch\">\n            <input\n              id=\"toggle\"\n              type=\"checkbox\"\n              ?disabled=${this.liveReloadDisabled ||\n              ((this.frontendStatus === ConnectionStatus.UNAVAILABLE ||\n                this.frontendStatus === ConnectionStatus.ERROR) &&\n                (this.javaStatus === ConnectionStatus.UNAVAILABLE || this.javaStatus === ConnectionStatus.ERROR))}\n              ?checked=\"${this.frontendStatus === ConnectionStatus.ACTIVE ||\n              this.javaStatus === ConnectionStatus.ACTIVE}\"\n              @change=${(e: InputEvent) => this.setActive((e.target as HTMLInputElement).checked)}\n            />\n            <span class=\"slider\"></span>\n          </label>\n        </dt>\n        <dd class=\"live-reload-status\" style=\"--status-color: ${this.getStatusColor(this.javaStatus)}\">\n          Java ${this.javaStatus} ${this.backend ? `(${VaadinDevTools.BACKEND_DISPLAY_NAME[this.backend]})` : ''}\n        </dd>\n        <dd class=\"live-reload-status\" style=\"--status-color: ${this.getStatusColor(this.frontendStatus)}\">\n          Front end ${this.frontendStatus}\n        </dd>\n      </dl>\n    </div>`;\n  }\n\n  private renderFeatures() {\n    return html`<div class=\"features-tray\">\n      <p>\n        These features are work in progress. The behavior, API, look and feel can still change significantly before (and\n        if) they become part of a stable release.\n      </p>\n      ${this.features.map(\n        (feature) => html`<div class=\"feature\">\n          <label class=\"switch\">\n            <input\n              class=\"feature-toggle\"\n              id=\"feature-toggle-${feature.id}\"\n              type=\"checkbox\"\n              ?checked=${feature.enabled}\n              @change=${(e: InputEvent) => this.toggleFeatureFlag(e, feature)}\n            />\n            <span class=\"slider\"></span>\n            ${feature.title}\n          </label>\n          <a class=\"ahreflike\" href=\"${feature.moreInfoLink}\" target=\"_blank\">Learn more</a>\n        </div>`\n      )}\n    </div>`;\n  }\n\n  copyInfoToClipboard() {\n    const items = this.renderRoot.querySelectorAll('.info-tray dt, .info-tray dd');\n    const text = Array.from(items)\n      .map((message) => (message.localName === 'dd' ? ': ' : '\\n') + message.textContent!.trim())\n      .join('')\n      .replace(/^\\n/, '');\n    copy(text);\n    this.showNotification(\n      MessageType.INFORMATION,\n      'Environment information copied to clipboard',\n      undefined,\n      undefined,\n      'versionInfoCopied'\n    );\n  }\n\n  toggleFeatureFlag(e: Event, feature: Feature) {\n    const enabled = (e.target! as HTMLInputElement).checked;\n    if (this.frontendConnection) {\n      this.frontendConnection.setFeature(feature.id, enabled);\n      this.showNotification(\n        MessageType.INFORMATION,\n        `“${feature.title}” ${enabled ? 'enabled' : 'disabled'}`,\n        feature.requiresServerRestart ? 'This feature requires a server restart' : undefined,\n        undefined,\n        `feature${feature.id}${enabled ? 'Enabled' : 'Disabled'}`\n      );\n    } else {\n      this.log(MessageType.ERROR, `Unable to toggle feature ${feature.title}: No server connection available`);\n    }\n  }\n}\n\nif (customElements.get('vaadin-dev-tools') === undefined) {\n  customElements.define('vaadin-dev-tools', VaadinDevTools);\n}\n", "\"use strict\";\n\nvar deselectCurrent = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\u2318\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nexport function copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\n", "const noLicenseFallbackTimeout = 1000;\n\nexport interface Product {\n  name: string;\n  version: string;\n}\n\nexport interface ProductAndMessage {\n  message: string;\n  messageHtml?: string;\n  product: Product;\n}\n\nexport const findAll = (element: Element | ShadowRoot | Document, tags: string[]): Element[] => {\n  const lightDom = Array.from(element.querySelectorAll(tags.join(', ')));\n  const shadowDom = Array.from(element.querySelectorAll('*'))\n    .filter((e) => e.shadowRoot)\n    .flatMap((e) => findAll(e.shadowRoot!, tags));\n  return [...lightDom, ...shadowDom];\n};\n\nlet licenseCheckListener = false;\n\nconst showNoLicenseFallback = (element: Element, productAndMessage: ProductAndMessage) => {\n  if (!licenseCheckListener) {\n    // When a license check has succeeded, refresh so that all elements are properly shown again\n    window.addEventListener(\n      'message',\n      (e) => {\n        if (e.data === 'validate-license') {\n          window.location.reload();\n        }\n      },\n      false\n    );\n    licenseCheckListener = true;\n  }\n  const overlay = (element as any)._overlayElement;\n  if (overlay) {\n    if (overlay.shadowRoot) {\n      const defaultSlot = overlay.shadowRoot.querySelector('slot:not([name])');\n      if (defaultSlot && defaultSlot.assignedElements().length > 0) {\n        showNoLicenseFallback(defaultSlot.assignedElements()[0], productAndMessage);\n        return;\n      }\n    }\n    showNoLicenseFallback(overlay, productAndMessage);\n    return;\n  }\n\n  const htmlMessage = productAndMessage.messageHtml\n    ? productAndMessage.messageHtml\n    : `${productAndMessage.message} <p>Component: ${productAndMessage.product.name} ${productAndMessage.product.version}</p>`.replace(\n        /https:([^ ]*)/g,\n        \"<a href='https:$1'>https:$1</a>\"\n      );\n\n  if (element.isConnected) {\n    element.outerHTML = `<no-license style=\"display:flex;align-items:center;text-align:center;justify-content:center;\"><div>${htmlMessage}</div></no-license>`;\n  }\n};\n\nconst productTagNames: Record<string, string[]> = {};\nconst productChecking: Record<string, boolean> = {};\nconst productMissingLicense: Record<string, ProductAndMessage> = {};\nconst productCheckOk: Record<string, boolean> = {};\n\nconst key = (product: Product): string => {\n  return `${product.name}_${product.version}`;\n};\n\nconst checkLicenseIfNeeded = (cvdlElement: Element) => {\n  const { cvdlName, version } = cvdlElement.constructor as CustomElementConstructor & {\n    cvdlName: string;\n    version: string;\n  };\n  const product: Product = { name: cvdlName, version };\n  const tagName = cvdlElement.tagName.toLowerCase();\n  productTagNames[cvdlName] = productTagNames[cvdlName] ?? [];\n  productTagNames[cvdlName].push(tagName);\n\n  const failedLicenseCheck = productMissingLicense[key(product)];\n  if (failedLicenseCheck) {\n    // Has been checked and the check failed\n    setTimeout(() => showNoLicenseFallback(cvdlElement, failedLicenseCheck), noLicenseFallbackTimeout);\n  }\n\n  if (productMissingLicense[key(product)] || productCheckOk[key(product)]) {\n    // Already checked\n  } else if (!productChecking[key(product)]) {\n    // Has not been checked\n    productChecking[key(product)] = true;\n    (window as any).Vaadin.devTools.checkLicense(product);\n  }\n};\n\nexport const licenseCheckOk = (data: Product) => {\n  productCheckOk[key(data)] = true;\n\n  // eslint-disable-next-line no-console\n  console.debug('License check ok for', data);\n};\n\nexport const licenseCheckFailed = (data: ProductAndMessage) => {\n  const productName = data.product.name;\n  productMissingLicense[key(data.product)] = data;\n  // eslint-disable-next-line no-console\n  console.error('License check failed for', productName);\n\n  const tags = productTagNames[productName];\n  if (tags?.length > 0) {\n    findAll(document, tags).forEach((element) => {\n      setTimeout(\n        () => showNoLicenseFallback(element, productMissingLicense[key(data.product)]),\n        noLicenseFallbackTimeout\n      );\n    });\n  }\n};\n\nexport const licenseCheckNoKey = (data: ProductAndMessage) => {\n  const keyUrl = data.message;\n\n  const productName = data.product.name;\n  data.messageHtml = `No license found. <a target=_blank onclick=\"javascript:window.open(this.href);return false;\" href=\"${keyUrl}\">Go here to start a trial or retrieve your license.</a>`;\n  productMissingLicense[key(data.product)] = data;\n  // eslint-disable-next-line no-console\n  console.error('No license found when checking', productName);\n\n  const tags = productTagNames[productName];\n  if (tags?.length > 0) {\n    findAll(document, tags).forEach((element) => {\n      setTimeout(\n        () => showNoLicenseFallback(element, productMissingLicense[key(data.product)]),\n        noLicenseFallbackTimeout\n      );\n    });\n  }\n};\n\nexport const licenseInit = () => {\n  // Process already registered elements\n  (window as any).Vaadin.devTools.createdCvdlElements.forEach((element: Element) => {\n    checkLicenseIfNeeded(element);\n  });\n\n  // Handle new elements directly\n  (window as any).Vaadin.devTools.createdCvdlElements = {\n    push: (element: Element) => {\n      checkLicenseIfNeeded(element);\n    }\n  };\n};\n"],
  "mappings": "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",
  "names": ["format", "err", "ConnectionStatus", "MessageType"]
}
