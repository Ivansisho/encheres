{
  "version": 3,
  "sources": ["../../@vaadin/flow-frontend/dndConnector.js"],
  "sourcesContent": ["window.Vaadin = window.Vaadin || {};\nwindow.Vaadin.Flow = window.Vaadin.Flow || {};\nwindow.Vaadin.Flow.dndConnector = {\n  __ondragenterListener: function (event) {\n    // TODO filter by data type\n    // TODO prevent dropping on itself (by default)\n    const effect = event.currentTarget['__dropEffect'];\n    if (!event.currentTarget.hasAttribute('disabled')) {\n      if (effect) {\n        event.dataTransfer.dropEffect = effect;\n      }\n\n      if (effect && effect !== 'none') {\n        /* #7108: if drag moves on top of drop target's children, first another ondragenter event\n         * is fired and then a ondragleave event. This happens again once the drag\n         * moves on top of another children, or back on top of the drop target element.\n         * Thus need to \"cancel\" the following ondragleave, to not remove class name.\n         * Drop event will happen even when dropped to a child element. */\n        if (event.currentTarget.classList.contains('v-drag-over-target')) {\n          event.currentTarget['__skip-leave'] = true;\n        } else {\n          event.currentTarget.classList.add('v-drag-over-target');\n        }\n        // enables browser specific pseudo classes (at least FF)\n        event.preventDefault();\n        event.stopPropagation(); // don't let parents know\n      }\n    }\n  },\n\n  __ondragoverListener: function (event) {\n    // TODO filter by data type\n    // TODO filter by effectAllowed != dropEffect due to Safari & IE11 ?\n    if (!event.currentTarget.hasAttribute('disabled')) {\n      const effect = event.currentTarget['__dropEffect'];\n      if (effect) {\n        event.dataTransfer.dropEffect = effect;\n      }\n      // allows the drop && don't let parents know\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  },\n\n  __ondragleaveListener: function (event) {\n    if (event.currentTarget['__skip-leave']) {\n      event.currentTarget['__skip-leave'] = false;\n    } else {\n      event.currentTarget.classList.remove('v-drag-over-target');\n    }\n    // #7109 need to stop or any parent drop target might not get highlighted,\n    // as ondragenter for it is fired before the child gets dragleave.\n    event.stopPropagation();\n  },\n\n  __ondropListener: function (event) {\n    const effect = event.currentTarget['__dropEffect'];\n    if (effect) {\n      event.dataTransfer.dropEffect = effect;\n    }\n    event.currentTarget.classList.remove('v-drag-over-target');\n    // prevent browser handling && don't let parents know\n    event.preventDefault();\n    event.stopPropagation();\n  },\n\n  updateDropTarget: function (element) {\n    if (element['__active']) {\n      element.addEventListener('dragenter', this.__ondragenterListener, false);\n      element.addEventListener('dragover', this.__ondragoverListener, false);\n      element.addEventListener('dragleave', this.__ondragleaveListener, false);\n      element.addEventListener('drop', this.__ondropListener, false);\n    } else {\n      element.removeEventListener('dragenter', this.__ondragenterListener, false);\n      element.removeEventListener('dragover', this.__ondragoverListener, false);\n      element.removeEventListener('dragleave', this.__ondragleaveListener, false);\n      element.removeEventListener('drop', this.__ondropListener, false);\n      element.classList.remove('v-drag-over-target');\n    }\n  },\n\n  /** DRAG SOURCE METHODS: */\n\n  __dragstartListener: function (event) {\n    event.stopPropagation();\n    event.dataTransfer.setData('text/plain', '');\n    if (event.currentTarget.hasAttribute('disabled')) {\n      event.preventDefault();\n    } else {\n      if (event.currentTarget['__effectAllowed']) {\n        event.dataTransfer.effectAllowed = event.currentTarget['__effectAllowed'];\n      }\n      event.currentTarget.classList.add('v-dragged');\n    }\n  },\n\n  __dragendListener: function (event) {\n    event.currentTarget.classList.remove('v-dragged');\n  },\n\n  updateDragSource: function (element) {\n    if (element['draggable']) {\n      element.addEventListener('dragstart', this.__dragstartListener, false);\n      element.addEventListener('dragend', this.__dragendListener, false);\n    } else {\n      element.removeEventListener('dragstart', this.__dragstartListener, false);\n      element.removeEventListener('dragend', this.__dragendListener, false);\n    }\n  }\n};\n"],
  "mappings": "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",
  "names": []
}
